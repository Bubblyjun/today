var gulp=require("gulp"),htmlmin=require("gulp-htmlmin"),uglify=require("gulp-uglify"),yscss=require("gulp-minify-css"),webserver=require("gulp-webserver"),urlt=require("url");gulp.task("yshtml",function(){console.log(11111111),gulp.src("./index.html").pipe(htmlmin({removeComments:!0,collapseWhitespace:!0,removeScriptTypeAttributes:!0,removeStyleLinkTypeAttributes:!0,minifyJS:!0,minifyCSS:!0})).pipe(gulp.dest("./dist"))}),gulp.task("ysjs",function(){console.log(3333333),gulp.src("./*.js").pipe(uglify()).pipe(gulp.dest("./dist/static/js"))}),gulp.task("yscss",function(){return console.log(44444),gulp.src(["concss/*.css"]).pipe(yscss()).pipe(gulp.dest("./dist/static/css"))}),gulp.task("webserver",function(){gulp.src(".").pipe(webserver({port:8888,host:"localhost",middleware:function(e,s,t){var l=urlt.parse(e.url);s.setHeader("Access-Control-Allow-Origin","*"),"GET"===e.method?"/getdata"===l.pathname?s.end("全部完成了，就是不会给你看"):"/getdatas"===l.pathname||t():t()}}))}),gulp.task("default",["webserver"]);